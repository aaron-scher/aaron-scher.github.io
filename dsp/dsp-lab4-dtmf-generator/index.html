
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Personal knowledge base and study notes">
      
      
      
        <link rel="canonical" href="https://aaron-scher.github.io/home/dsp/dsp-lab4-dtmf-generator/">
      
      
        <link rel="prev" href="../dsp-lab3-convolution/">
      
      
        <link rel="next" href="../dsp-lab5-dtmf-detector/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Lab 4: DTMF Tone and Song Generator - Aaron's Notes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeago.css">
    
      <link rel="stylesheet" href="../../stylesheets/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dsp-lab-4-dtmf-tone-and-song-generator" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Aaron&#39;s Notes" class="md-header__button md-logo" aria-label="Aaron's Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Aaron's Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 4: DTMF Tone and Song Generator
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/aaron-scher/home" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    aaron-scher/home
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Aaron&#39;s Notes" class="md-nav__button md-logo" aria-label="Aaron's Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Aaron's Notes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aaron-scher/home" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    aaron-scher/home
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Physics & Quantum
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Physics & Quantum
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quantum-mechanics/quantum-foundations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Foundations of Quantum Mechanics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quantum-mechanics/quantum-basis-representation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quantum Basis Representation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quantum-mechanics/quantum-operators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quantum Operators and Measurement
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quantum-mechanics/quantum-spatial-entanglement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entanglement Isn't Just for Spin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quantum-mechanics/quantum-velocity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Velocity in Quantum Mechanics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quantum-mechanics/quantum-mass-localization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Why Massive Particles Stay Localized
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quantum-mechanics/band-theory-of-solids/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Band Theory of Solids
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quantum-mechanics/electrons-in-metals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Electrons in Metals: From Bloch Waves to Wave Packets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quantum-mechanics/phonons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Phonons: What They Are and How They Hit Electrons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Microwave Engineering
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Microwave Engineering
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../microwave-engineering/positive-negative-coupling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Positive Coupling, Negative Coupling, and All That
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../microwave-engineering/resonant-coupling-networks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resonant Coupling Networks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Electronics & Energy
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Electronics & Energy
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../batteries/voltaic-cell-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Voltaic Cells: How Batteries Work
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Programming & Low-Level Computing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Programming & Low-Level Computing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arm-assembly/arm-assembly-fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ARM Assembly: Fundamentals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arm-assembly/arm-assembly-control-flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ARM Assembly: Control Flow & Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c-programming/c-toolchain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C Toolchain: From Source to Binary
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c-programming/c-memory-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C Memory Model: Objects & Pointers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c-programming/c-program-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Organizing C Programs: Scope, Linkage & Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c-programming/visual-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Visual Reference: ASCII Diagrams
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    DSP Teaching Materials
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    DSP Teaching Materials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsp-lab1-signals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 1: Working with Signals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsp-lab2-sampling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 2: Sampling and Aliasing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsp-lab3-convolution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 3: Discrete Time Systems and Convolution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Lab 4: DTMF Tone and Song Generator
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 4: DTMF Tone and Song Generator
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objectives" class="md-nav__link">
    <span class="md-ellipsis">
      
        Objectives
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Introduction
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dtmf-frequency-table" class="md-nav__link">
    <span class="md-ellipsis">
      
        DTMF Frequency Table
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lab Instructions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lab Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-mary-had-a-little-lamb" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: "Mary Had a Little Lamb"
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matlab-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        MATLAB Requirements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MATLAB Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-song-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Song Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-create-generatedtmf-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Create generateDTMF Function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-create-generatesilence-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Create generateSilence Function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-code-organization" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Code Organization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-generate-spectrograms" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Generate Spectrograms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-demonstrate-your-song" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Demonstrate Your Song
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-test-different-sampling-rates" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Test Different Sampling Rates
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-to-turn-in" class="md-nav__link">
    <span class="md-ellipsis">
      
        What to Turn In
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What to Turn In">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deliverables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deliverables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demonstration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Demonstration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Code
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-how-to-include-a-script-and-function-in-the-same-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix: How to Include a Script and Function in the Same File
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix: How to Include a Script and Function in the Same File">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#complete-example-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Example Structure
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-concepts-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts Summary
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Concepts Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dtmf-frequencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        DTMF Frequencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matlab-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        MATLAB Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signal-generation-formula" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signal Generation Formula
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creative-ideas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creative Ideas
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        References
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsp-lab5-dtmf-detector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 5: DTMF Tone Sequence Detector
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objectives" class="md-nav__link">
    <span class="md-ellipsis">
      
        Objectives
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Introduction
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dtmf-frequency-table" class="md-nav__link">
    <span class="md-ellipsis">
      
        DTMF Frequency Table
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lab Instructions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lab Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-mary-had-a-little-lamb" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: "Mary Had a Little Lamb"
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matlab-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        MATLAB Requirements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MATLAB Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-song-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Song Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-create-generatedtmf-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Create generateDTMF Function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-create-generatesilence-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Create generateSilence Function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-code-organization" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Code Organization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-generate-spectrograms" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Generate Spectrograms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-demonstrate-your-song" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Demonstrate Your Song
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-test-different-sampling-rates" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Test Different Sampling Rates
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-to-turn-in" class="md-nav__link">
    <span class="md-ellipsis">
      
        What to Turn In
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What to Turn In">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deliverables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deliverables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demonstration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Demonstration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Code
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-how-to-include-a-script-and-function-in-the-same-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix: How to Include a Script and Function in the Same File
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix: How to Include a Script and Function in the Same File">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#complete-example-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Example Structure
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-concepts-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts Summary
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Concepts Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dtmf-frequencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        DTMF Frequencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matlab-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        MATLAB Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signal-generation-formula" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signal Generation Formula
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creative-ideas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creative Ideas
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        References
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="dsp-lab-4-dtmf-tone-and-song-generator">DSP Lab 4: DTMF Tone and Song Generator<a class="headerlink" href="#dsp-lab-4-dtmf-tone-and-song-generator" title="Permanent link">&para;</a></h1>
<p><strong>Author:</strong> Dr. Aaron Scher
<em>Oregon Institute of Technology</em></p>
<div class="admonition info">
<p class="admonition-title">Lab Materials</p>
<p>This lab explores Dual-Tone Multi-Frequency (DTMF) signaling and provides hands-on experience with tone generation, audio synthesis, and frequency analysis using MATLAB.</p>
</div>
<h2 id="objectives">Objectives<a class="headerlink" href="#objectives" title="Permanent link">&para;</a></h2>
<p>The objective of this lab is to investigate DTMF tone generation by:</p>
<ul>
<li>Understanding how telephone keypads encode digits as audio tones</li>
<li>Creating MATLAB functions to generate DTMF signals</li>
<li>Composing musical sequences using DTMF tones</li>
<li>Analyzing signals using spectrograms</li>
<li>Exploring the effects of different sampling rates</li>
</ul>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>When you press a number on the key pad of a standard telephone, you generate a pair of audible tones, each with a different frequency. If your phone is connected to a phone line, then these tones let the phone company know what number you are pressing. As long as the telephone company can identify the two tones, it can identify the digits of the desired telephone number.</p>
<p><img alt="Telephone keypad" src="../assets/dsp-lab4/Telephone_keys.JPG" /></p>
<h3 id="dtmf-frequency-table">DTMF Frequency Table<a class="headerlink" href="#dtmf-frequency-table" title="Permanent link">&para;</a></h3>
<p>A table that summarizes the tones associated with each button on a touch tone phone is shown below. This communication signaling is called <strong>Dual Tone Multi-Frequency (DTMF)</strong> signaling.</p>
<p><img alt="DTMF table" src="../assets/dsp-lab4/dtmf_table.png" /></p>
<div class="admonition note">
<p class="admonition-title">DTMF Encoding</p>
<p>Each key on the telephone keypad is represented by two simultaneous sine waves:</p>
<ul>
<li>One from the <strong>row frequency</strong> (697, 770, 852, or 941 Hz)</li>
<li>One from the <strong>column frequency</strong> (1209, 1336, 1477, or 1633 Hz)</li>
</ul>
<p>For example, pressing "5" generates a tone consisting of 770 Hz + 1336 Hz.</p>
</div>
<p>Note that the last column is not used on a typical touch-tone phone (digits A, B, C, and D), but can be used for data transmission.</p>
<h2 id="lab-instructions">Lab Instructions<a class="headerlink" href="#lab-instructions" title="Permanent link">&para;</a></h2>
<p>You are to generate an m-file called <code>song.m</code>. When this file is executed it should play a song by playing a sequence of DTMF tones in order.</p>
<h3 id="example-mary-had-a-little-lamb">Example: "Mary Had a Little Lamb"<a class="headerlink" href="#example-mary-had-a-little-lamb" title="Permanent link">&para;</a></h3>
<p>As an example, the song "Mary Had a Little Lamb" is generated by playing the following sequence of tones in order:</p>
<p><strong>4, 5, 6, 5, 6, 6, 6, 5, 5, 5, 6, 6, 6, 4, 5, 6, 5, 6, 6, 6, 4, 5, 5, 6, 5, 4</strong></p>
<p>In the case of "Mary Had a Little Lamb", to sound correctly I've found that each number should have a duration of about 0.1 seconds, and there should be a space (silence) between each number of about 0.05 seconds. Of course, these values can be changed to suit one's musical tastes.</p>
<h2 id="matlab-requirements">MATLAB Requirements<a class="headerlink" href="#matlab-requirements" title="Permanent link">&para;</a></h2>
<h3 id="1-song-requirements">1. Song Requirements<a class="headerlink" href="#1-song-requirements" title="Permanent link">&para;</a></h3>
<ul>
<li>Your song must have <strong>at least 20 numbers</strong></li>
<li>Your song must <strong>not last longer than 1 minute</strong></li>
<li>Use a sampling frequency of <span class="arithmatex">\(f_s = 8000\)</span> Hz</li>
</ul>
<h3 id="2-create-generatedtmf-function">2. Create <code>generateDTMF</code> Function<a class="headerlink" href="#2-create-generatedtmf-function" title="Permanent link">&para;</a></h3>
<p>To generate a clean code, you must create and incorporate a function called <code>generateDTMF</code> that will create a DTMF tone. The inputs to the function are the digit, sampling frequency, and duration of the tone:</p>
<div class="highlight"><span class="filename">Matlab</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">generateDTMF</span><span class="p">(</span><span class="n">digit</span><span class="p">,</span><span class="w"> </span><span class="nb">duration</span><span class="p">,</span><span class="w"> </span><span class="n">fs</span><span class="p">)</span>
</code></pre></div>
<p><strong>Input parameters:</strong></p>
<ul>
<li><code>digit</code>: An integer corresponding to the DTMF tone (0-9, or 10='*', 11='#')</li>
<li><code>duration</code>: The time duration of the DTMF tone (in seconds)</li>
<li><code>fs</code>: The sampling frequency (Hz)</li>
</ul>
<p><strong>Output:</strong></p>
<ul>
<li><code>x</code>: The DTMF signal (array of samples)</li>
</ul>
<p><strong>Example implementation:</strong></p>
<div class="highlight"><span class="filename">Matlab</span><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">function</span><span class="w"> </span>x<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">generateDTMF</span><span class="p">(</span>digit, duration, fs<span class="p">)</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="c">% DTMF frequency table</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="c">% Rows: 1=697, 2=770, 3=852, 4=941 Hz</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="c">% Cols: 1=1209, 2=1336, 3=1477, 4=1633 Hz</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="n">row_freqs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">697</span><span class="p">,</span><span class="w"> </span><span class="mi">770</span><span class="p">,</span><span class="w"> </span><span class="mi">852</span><span class="p">,</span><span class="w"> </span><span class="mi">941</span><span class="p">];</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">    </span><span class="n">col_freqs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1209</span><span class="p">,</span><span class="w"> </span><span class="mi">1336</span><span class="p">,</span><span class="w"> </span><span class="mi">1477</span><span class="p">,</span><span class="w"> </span><span class="mi">1633</span><span class="p">];</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">    </span><span class="c">% Map digits to row and column</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">    </span><span class="n">keypad</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">    </span><span class="c">% 1, 2, 3, A</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">              </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">;</span><span class="w">    </span><span class="c">% 4, 5, 6, B</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">              </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">;</span><span class="w">    </span><span class="c">% 7, 8, 9, C</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">              </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">];</span><span class="w"> </span><span class="c">% *, 0, #, D</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">    </span><span class="c">% Find row and column for this digit</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="w">    </span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">find</span><span class="p">(</span><span class="n">keypad</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">digit</span><span class="p">);</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nb">isempty</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="w">        </span><span class="nb">error</span><span class="p">(</span><span class="s">&#39;Invalid digit: %d&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">digit</span><span class="p">);</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="w">    </span><span class="k">end</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="w">    </span><span class="c">% Get frequencies</span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="w">    </span><span class="n">f_row</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">row_freqs</span><span class="p">(</span><span class="n">row</span><span class="p">);</span>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="w">    </span><span class="n">f_col</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">col_freqs</span><span class="p">(</span><span class="n">col</span><span class="p">);</span>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="w">    </span><span class="c">% Generate time vector</span>
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a><span class="w">    </span><span class="n">t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="o">/</span><span class="n">fs</span><span class="p">:</span><span class="nb">duration</span><span class="p">;</span>
<a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>
<a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="w">    </span><span class="c">% Generate DTMF tone (sum of two sinusoids)</span>
<a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">*</span><span class="n">f_row</span><span class="o">*</span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">*</span><span class="n">f_col</span><span class="o">*</span><span class="n">t</span><span class="p">);</span>
<a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="k">end</span>
</code></pre></div>
<h3 id="3-create-generatesilence-function">3. Create <code>generateSilence</code> Function<a class="headerlink" href="#3-create-generatesilence-function" title="Permanent link">&para;</a></h3>
<p>Create a second function called <code>generateSilence</code> similar to <code>generateDTMF</code> for creating the silent parts of the composition:</p>
<div class="highlight"><span class="filename">Matlab</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">generateSilence</span><span class="p">(</span><span class="nb">duration</span><span class="p">,</span><span class="w"> </span><span class="n">fs</span><span class="p">)</span>
</code></pre></div>
<p><strong>Example implementation:</strong></p>
<div class="highlight"><span class="filename">Matlab</span><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">function</span><span class="w"> </span>x<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">generateSilence</span><span class="p">(</span>duration, fs<span class="p">)</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="c">% Generate silence (zeros) for specified duration</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="n">num_samples</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="nb">duration</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fs</span><span class="p">);</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">num_samples</span><span class="p">);</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="k">end</span>
</code></pre></div>
<h3 id="4-code-organization">4. Code Organization<a class="headerlink" href="#4-code-organization" title="Permanent link">&para;</a></h3>
<ul>
<li>Label and include clear comments in your code for maximum readability</li>
<li>Your entire musical composition should be saved as one long array <code>s</code></li>
<li>Use array concatenation to merge signals together</li>
</ul>
<p><strong>Example of merging arrays:</strong></p>
<div class="highlight"><span class="filename">Matlab</span><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c">% Generate individual tones</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">tone1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">generateDTMF</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="mi">8000</span><span class="p">);</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">silence1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">generateSilence</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span><span class="w"> </span><span class="mi">8000</span><span class="p">);</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="n">tone2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">generateDTMF</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="mi">8000</span><span class="p">);</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="c">% Combine into single array</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="n">s</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="n">tone1</span><span class="p">,</span><span class="w"> </span><span class="n">silence1</span><span class="p">,</span><span class="w"> </span><span class="n">tone2</span><span class="p">];</span>
</code></pre></div>
<h3 id="5-generate-spectrograms">5. Generate Spectrograms<a class="headerlink" href="#5-generate-spectrograms" title="Permanent link">&para;</a></h3>
<p>Generate and display a spectrogram of the song using the MATLAB command <code>spectrogram</code> (this will be figure 1):</p>
<div class="highlight"><span class="filename">Matlab</span><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c">% Spectrogram parameters</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">fs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">8000</span><span class="p">;</span><span class="w">           </span><span class="c">% Sampling frequency</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">res_time</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">0.01</span><span class="p">;</span><span class="w">     </span><span class="c">% Time resolution (seconds)</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="c">% Generate spectrogram</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="c">% The spectrogram function works by taking an FFT of the signal</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c">% over small &quot;chunks&quot; of time (equal to res_time) and then</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="c">% displays all the data on a time versus frequency axis.</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="nb">figure</span><span class="p">;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="n">spectrogram</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">blackman</span><span class="p">(</span><span class="n">fs</span><span class="o">*</span><span class="n">res_time</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="n">fs</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;yaxis&#39;</span><span class="p">);</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="nb">title</span><span class="p">(</span><span class="s">&#39;Song Spectrogram (fs = 8000 Hz)&#39;</span><span class="p">);</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="nb">colorbar</span><span class="p">;</span>
</code></pre></div>
<p><img alt="Spectrogram example" src="../assets/dsp-lab4/spectrogram.png" />
<strong>Figure 1:</strong> Example spectrogram showing DTMF tones over time</p>
<div class="admonition info">
<p class="admonition-title">Understanding Spectrograms</p>
<p>A spectrogram displays how the frequency content of a signal changes over time. For DTMF signals, you should see:</p>
<ul>
<li>Horizontal bands at the DTMF frequencies (697-1633 Hz)</li>
<li>Each digit appears as two horizontal lines (row + column frequencies)</li>
<li>Gaps between tones appear as blank (silent) regions</li>
</ul>
<p>Great resources:
- <a href="http://stackoverflow.com/questions/5887366/matlab-spectrogram-params">StackOverflow: MATLAB Spectrogram Parameters</a>
- Textbook Chapter 13</p>
</div>
<h3 id="6-demonstrate-your-song">6. Demonstrate Your Song<a class="headerlink" href="#6-demonstrate-your-song" title="Permanent link">&para;</a></h3>
<p>You must demonstrate your song to me in class using the MATLAB command <code>soundsc</code> at the date specified in the Blackboard shell:</p>
<div class="highlight"><span class="filename">Matlab</span><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c">% Play the song</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nb">soundsc</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">fs</span><span class="p">);</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Volume Warning</p>
<p>Before playing, turn down your speaker/headphone volume to a comfortable level!</p>
</div>
<h3 id="7-test-different-sampling-rates">7. Test Different Sampling Rates<a class="headerlink" href="#7-test-different-sampling-rates" title="Permanent link">&para;</a></h3>
<p>Once everything works, change the sampling frequency and observe the effects:</p>
<p><strong>Test 1: <span class="arithmatex">\(f_s = 4000\)</span> Hz</strong></p>
<div class="highlight"><span class="filename">Matlab</span><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c">% Regenerate song at fs = 4000 Hz</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">fs_new</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">4000</span><span class="p">;</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="c">% ... regenerate all tones with new fs ...</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="c">% Listen to the song</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="nb">soundsc</span><span class="p">(</span><span class="n">s_4000</span><span class="p">,</span><span class="w"> </span><span class="n">fs_new</span><span class="p">);</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="c">% Generate spectrogram (Figure 2)</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="nb">figure</span><span class="p">;</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="n">spectrogram</span><span class="p">(</span><span class="n">s_4000</span><span class="p">,</span><span class="w"> </span><span class="n">blackman</span><span class="p">(</span><span class="n">fs_new</span><span class="o">*</span><span class="n">res_time</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="n">fs_new</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;yaxis&#39;</span><span class="p">);</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="nb">title</span><span class="p">(</span><span class="s">&#39;Song Spectrogram (fs = 4000 Hz)&#39;</span><span class="p">);</span>
</code></pre></div>
<p><strong>Test 2: <span class="arithmatex">\(f_s = 1000\)</span> Hz</strong></p>
<div class="highlight"><span class="filename">Matlab</span><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c">% Regenerate song at fs = 1000 Hz</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">fs_new</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="c">% ... regenerate all tones with new fs ...</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="c">% Listen to the song</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="nb">soundsc</span><span class="p">(</span><span class="n">s_1000</span><span class="p">,</span><span class="w"> </span><span class="n">fs_new</span><span class="p">);</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="c">% Generate spectrogram (Figure 3)</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="nb">figure</span><span class="p">;</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="n">spectrogram</span><span class="p">(</span><span class="n">s_1000</span><span class="p">,</span><span class="w"> </span><span class="n">blackman</span><span class="p">(</span><span class="n">fs_new</span><span class="o">*</span><span class="n">res_time</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="n">fs_new</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;yaxis&#39;</span><span class="p">);</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="nb">title</span><span class="p">(</span><span class="s">&#39;Song Spectrogram (fs = 1000 Hz)&#39;</span><span class="p">);</span>
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Analysis Questions</p>
<p>In your code comments, answer these questions:</p>
<ul>
<li>Does the song sound different for <span class="arithmatex">\(f_s = 4000\)</span> Hz and <span class="arithmatex">\(f_s = 1000\)</span> Hz?</li>
<li>Comment on <strong>why</strong> the song does or does not sound different for the two lower sampling rates</li>
<li>Think about the <strong>Nyquist frequency</strong>: What is the maximum frequency in a DTMF signal? Is it adequately sampled at these rates?</li>
</ul>
<p><strong>Hint:</strong> The maximum DTMF frequency is 1633 Hz. According to Nyquist, you need <span class="arithmatex">\(f_s \geq 2 \times 1633 = 3266\)</span> Hz to avoid aliasing.</p>
</div>
<h2 id="what-to-turn-in">What to Turn In<a class="headerlink" href="#what-to-turn-in" title="Permanent link">&para;</a></h2>
<h3 id="deliverables">Deliverables<a class="headerlink" href="#deliverables" title="Permanent link">&para;</a></h3>
<ol>
<li>Save all your work in a single m-file called <code>song.m</code> and publish it as a single PDF to upload to Blackboard</li>
<li>Make sure the functions <code>generateDTMF</code> and <code>generateSilence</code> are both <strong>local to the file</strong> <code>song.m</code></li>
<li>To do this, you will need to turn your script into a function that takes no argument (see Appendix below)</li>
<li>Submit your published PDF before the due date</li>
<li>If you write any other functions, include those as well in your main m-file</li>
</ol>
<h3 id="demonstration">Demonstration<a class="headerlink" href="#demonstration" title="Permanent link">&para;</a></h3>
<p>To earn full credit, you must <strong>demonstrate your song</strong> at the time and date specified on Blackboard.</p>
<h2 id="example-code">Example Code<a class="headerlink" href="#example-code" title="Permanent link">&para;</a></h2>
<p>The following MATLAB code plays a tone with frequency 1000 Hz for 0.2 seconds, then plays a tone with frequency 2000 Hz for 0.3 seconds, then plays nothing (silence) for 0.5 seconds, then plays a tone with frequency 1000 Hz for 0.2 seconds. The sampling frequency is <span class="arithmatex">\(f_s = 8000\)</span> Hz. The spectrogram of the signal is then displayed.</p>
<div class="highlight"><span class="filename">Matlab</span><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nb">clc</span><span class="p">;</span><span class="w"> </span><span class="n">clear</span><span class="w"> </span><span class="s">all</span><span class="p">;</span><span class="w"> </span><span class="nb">clf</span><span class="p">;</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="n">fs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">8000</span><span class="p">;</span><span class="w">  </span><span class="c">% Sampling frequency</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="c">% Generate first tone (1000 Hz, 0.2 seconds)</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="n">t1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="o">/</span><span class="n">fs</span><span class="p">:</span><span class="mf">0.2</span><span class="p">;</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="n">x1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">cos</span><span class="p">(</span><span class="n">t1</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">*</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="c">% Generate second tone (2000 Hz, 0.3 seconds)</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="n">t2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="o">/</span><span class="n">fs</span><span class="p">:</span><span class="mf">0.3</span><span class="p">;</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="n">x2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">cos</span><span class="p">(</span><span class="n">t2</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">*</span><span class="mi">2000</span><span class="p">);</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="c">% Generate silence (0.5 seconds)</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="n">t3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="o">/</span><span class="n">fs</span><span class="p">:</span><span class="mf">0.5</span><span class="p">;</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="n">x3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">t3</span><span class="o">*</span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="c">% Generate third tone (1000 Hz, 0.2 seconds)</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="n">t4</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="o">/</span><span class="n">fs</span><span class="p">:</span><span class="mf">0.2</span><span class="p">;</span>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="n">x4</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">cos</span><span class="p">(</span><span class="n">t1</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">*</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="c">% Combine arrays into one signal</span>
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="n">s</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">x3</span><span class="p">,</span><span class="w"> </span><span class="n">x4</span><span class="p">];</span>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="c">% Play the signal through speakers</span>
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="nb">soundsc</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">fs</span><span class="p">);</span>
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a>
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="c">% Spectrogram parameters</span>
<a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="n">res_time</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">0.01</span><span class="p">;</span><span class="w">  </span><span class="c">% Time resolution of spectrogram</span>
<a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a>
<a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="c">% Display spectrogram</span>
<a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="n">spectrogram</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">blackman</span><span class="p">(</span><span class="n">fs</span><span class="o">*</span><span class="n">res_time</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="n">fs</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;yaxis&#39;</span><span class="p">);</span>
</code></pre></div>
<h2 id="appendix-how-to-include-a-script-and-function-in-the-same-file">Appendix: How to Include a Script and Function in the Same File<a class="headerlink" href="#appendix-how-to-include-a-script-and-function-in-the-same-file" title="Permanent link">&para;</a></h2>
<p>First, if you are unsure of the differences between a script and a function in MATLAB, you can read more about it here:</p>
<ul>
<li><a href="http://www.mathworks.com/help/matlab/matlab_prog/scripts-and-functions.html">MATLAB: Scripts and Functions</a></li>
<li><a href="http://stackoverflow.com/questions/1695365/whats-the-difference-between-a-script-and-a-function-in-matlab">StackOverflow: Script vs Function</a></li>
</ul>
<p>For this lab, you will be writing a MATLAB script (<code>song.m</code>) as well as MATLAB functions. Normally, each function is saved as a separate m-file that you call from the script. In terms of uploading your assignment to Blackboard, however, it would be very cumbersome to upload all of your separate functions individually.</p>
<p>I would like you to turn in only one published m-file. Unfortunately, MATLAB will not allow you to nest functions inside scripts locally. To get around this limitation we will exploit the fact that you can put functions inside other functions.</p>
<p><strong>The fix:</strong> Turn your script into a function that takes no argument. In order to do this, you add one line of code to the top of your original script. This one line of code is a function call with the name of your file, but no argument, as illustrated below for m-file named <code>my_file.m</code>:</p>
<div class="highlight"><span class="filename">Matlab</span><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">function</span><span class="w"> </span><span class="nf">my_file</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="c">% Script here...</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="n">b</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="n">the_sum</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">add_em_up</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w">  </span><span class="c">% Custom function</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="k">end</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="k">function</span><span class="w"> </span>out<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">add_em_up</span><span class="p">(</span>x1, x2<span class="p">)</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="c">% Function here...</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">    </span><span class="n">out</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">x1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x2</span><span class="p">;</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="k">end</span>
</code></pre></div>
<p><strong>Output:</strong>
<div class="highlight"><span class="filename">Text Only</span><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>the_sum =
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>     3
</code></pre></div></p>
<p>With this small fix you can now run and publish the above file (<code>my_file.m</code>) as you would a normal script file.</p>
<h3 id="complete-example-structure">Complete Example Structure<a class="headerlink" href="#complete-example-structure" title="Permanent link">&para;</a></h3>
<div class="highlight"><span class="filename">Matlab</span><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="k">function</span><span class="w"> </span><span class="nf">song</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="c">% SONG - Generate and play a DTMF song</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="c">% This function generates a musical composition using DTMF tones</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">    </span><span class="nb">clc</span><span class="p">;</span><span class="w"> </span><span class="nb">clear</span><span class="p">;</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">    </span><span class="c">% Parameters</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">    </span><span class="n">fs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">8000</span><span class="p">;</span><span class="w">              </span><span class="c">% Sampling frequency (Hz)</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">    </span><span class="n">tone_duration</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">;</span><span class="w">    </span><span class="c">% Duration of each tone (seconds)</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">    </span><span class="n">silence_duration</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">0.05</span><span class="p">;</span><span class="w"> </span><span class="c">% Duration of silence between tones (seconds)</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">    </span><span class="c">% Song sequence (example: Mary Had a Little Lamb)</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">    </span><span class="n">notes</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="k">...</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">             </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">];</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="w">    </span><span class="c">% Generate song</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[];</span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nb">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="nb">length</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="w">        </span><span class="n">tone</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">generateDTMF</span><span class="p">(</span><span class="n">notes</span><span class="p">(</span><span class="nb">i</span><span class="p">),</span><span class="w"> </span><span class="n">tone_duration</span><span class="p">,</span><span class="w"> </span><span class="n">fs</span><span class="p">);</span>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="w">        </span><span class="n">silence</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">generateSilence</span><span class="p">(</span><span class="n">silence_duration</span><span class="p">,</span><span class="w"> </span><span class="n">fs</span><span class="p">);</span>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="w">        </span><span class="n">s</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">tone</span><span class="p">,</span><span class="w"> </span><span class="n">silence</span><span class="p">];</span>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="w">    </span><span class="k">end</span>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a>
<a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="w">    </span><span class="c">% Play song</span>
<a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="w">    </span><span class="nb">soundsc</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">fs</span><span class="p">);</span>
<a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a>
<a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a><span class="w">    </span><span class="c">% Display spectrogram</span>
<a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="w">    </span><span class="n">res_time</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">0.01</span><span class="p">;</span>
<a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a><span class="w">    </span><span class="nb">figure</span><span class="p">;</span>
<a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="w">    </span><span class="n">spectrogram</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">blackman</span><span class="p">(</span><span class="n">fs</span><span class="o">*</span><span class="n">res_time</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="n">fs</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;yaxis&#39;</span><span class="p">);</span>
<a id="__codelineno-12-31" name="__codelineno-12-31" href="#__codelineno-12-31"></a><span class="w">    </span><span class="nb">title</span><span class="p">(</span><span class="s">&#39;My Song Spectrogram&#39;</span><span class="p">);</span>
<a id="__codelineno-12-32" name="__codelineno-12-32" href="#__codelineno-12-32"></a><span class="w">    </span><span class="nb">colorbar</span><span class="p">;</span>
<a id="__codelineno-12-33" name="__codelineno-12-33" href="#__codelineno-12-33"></a><span class="k">end</span>
<a id="__codelineno-12-34" name="__codelineno-12-34" href="#__codelineno-12-34"></a>
<a id="__codelineno-12-35" name="__codelineno-12-35" href="#__codelineno-12-35"></a><span class="k">function</span><span class="w"> </span>x<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">generateDTMF</span><span class="p">(</span>digit, duration, fs<span class="p">)</span>
<a id="__codelineno-12-36" name="__codelineno-12-36" href="#__codelineno-12-36"></a><span class="w">    </span><span class="c">% GENERATEDTMF - Generate a DTMF tone</span>
<a id="__codelineno-12-37" name="__codelineno-12-37" href="#__codelineno-12-37"></a><span class="w">    </span><span class="c">% Inputs:</span>
<a id="__codelineno-12-38" name="__codelineno-12-38" href="#__codelineno-12-38"></a><span class="w">    </span><span class="c">%   digit    - Digit to generate (0-9)</span>
<a id="__codelineno-12-39" name="__codelineno-12-39" href="#__codelineno-12-39"></a><span class="w">    </span><span class="c">%   duration - Duration in seconds</span>
<a id="__codelineno-12-40" name="__codelineno-12-40" href="#__codelineno-12-40"></a><span class="w">    </span><span class="c">%   fs       - Sampling frequency (Hz)</span>
<a id="__codelineno-12-41" name="__codelineno-12-41" href="#__codelineno-12-41"></a><span class="w">    </span><span class="c">% Output:</span>
<a id="__codelineno-12-42" name="__codelineno-12-42" href="#__codelineno-12-42"></a><span class="w">    </span><span class="c">%   x        - DTMF signal</span>
<a id="__codelineno-12-43" name="__codelineno-12-43" href="#__codelineno-12-43"></a>
<a id="__codelineno-12-44" name="__codelineno-12-44" href="#__codelineno-12-44"></a><span class="w">    </span><span class="c">% Your implementation here...</span>
<a id="__codelineno-12-45" name="__codelineno-12-45" href="#__codelineno-12-45"></a><span class="k">end</span>
<a id="__codelineno-12-46" name="__codelineno-12-46" href="#__codelineno-12-46"></a>
<a id="__codelineno-12-47" name="__codelineno-12-47" href="#__codelineno-12-47"></a><span class="k">function</span><span class="w"> </span>x<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">generateSilence</span><span class="p">(</span>duration, fs<span class="p">)</span>
<a id="__codelineno-12-48" name="__codelineno-12-48" href="#__codelineno-12-48"></a><span class="w">    </span><span class="c">% GENERATESILENCE - Generate silence</span>
<a id="__codelineno-12-49" name="__codelineno-12-49" href="#__codelineno-12-49"></a><span class="w">    </span><span class="c">% Inputs:</span>
<a id="__codelineno-12-50" name="__codelineno-12-50" href="#__codelineno-12-50"></a><span class="w">    </span><span class="c">%   duration - Duration in seconds</span>
<a id="__codelineno-12-51" name="__codelineno-12-51" href="#__codelineno-12-51"></a><span class="w">    </span><span class="c">%   fs       - Sampling frequency (Hz)</span>
<a id="__codelineno-12-52" name="__codelineno-12-52" href="#__codelineno-12-52"></a><span class="w">    </span><span class="c">% Output:</span>
<a id="__codelineno-12-53" name="__codelineno-12-53" href="#__codelineno-12-53"></a><span class="w">    </span><span class="c">%   x        - Silent signal (zeros)</span>
<a id="__codelineno-12-54" name="__codelineno-12-54" href="#__codelineno-12-54"></a>
<a id="__codelineno-12-55" name="__codelineno-12-55" href="#__codelineno-12-55"></a><span class="w">    </span><span class="c">% Your implementation here...</span>
<a id="__codelineno-12-56" name="__codelineno-12-56" href="#__codelineno-12-56"></a><span class="k">end</span>
</code></pre></div>
<h2 id="key-concepts-summary">Key Concepts Summary<a class="headerlink" href="#key-concepts-summary" title="Permanent link">&para;</a></h2>
<h3 id="dtmf-frequencies">DTMF Frequencies<a class="headerlink" href="#dtmf-frequencies" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Row</th>
<th>Frequency (Hz)</th>
<th>Columns </th>
<th>1209 Hz</th>
<th>1336 Hz</th>
<th>1477 Hz</th>
<th>1633 Hz</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>697</td>
<td><strong>Digits </strong></td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>A</td>
</tr>
<tr>
<td>2</td>
<td>770</td>
<td><strong>Digits </strong></td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>B</td>
</tr>
<tr>
<td>3</td>
<td>852</td>
<td><strong>Digits </strong></td>
<td>7</td>
<td>8</td>
<td>9</td>
<td>C</td>
</tr>
<tr>
<td>4</td>
<td>941</td>
<td><strong>Digits </strong></td>
<td>*</td>
<td>0</td>
<td>#</td>
<td>D</td>
</tr>
</tbody>
</table>
<h3 id="matlab-functions">MATLAB Functions<a class="headerlink" href="#matlab-functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Purpose</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sin</code></td>
<td>Generate sinusoid</td>
<td><code>sin(2*pi*f*t)</code></td>
</tr>
<tr>
<td><code>soundsc</code></td>
<td>Play audio</td>
<td><code>soundsc(x, fs)</code></td>
</tr>
<tr>
<td><code>spectrogram</code></td>
<td>Time-frequency analysis</td>
<td><code>spectrogram(x, window, ...)</code></td>
</tr>
<tr>
<td><code>blackman</code></td>
<td>Window function</td>
<td><code>blackman(N)</code></td>
</tr>
</tbody>
</table>
<h3 id="signal-generation-formula">Signal Generation Formula<a class="headerlink" href="#signal-generation-formula" title="Permanent link">&para;</a></h3>
<p>For digit with row frequency <span class="arithmatex">\(f_r\)</span> and column frequency <span class="arithmatex">\(f_c\)</span>:</p>
<div class="arithmatex">\[x(t) = \sin(2\pi f_r t) + \sin(2\pi f_c t)\]</div>
<h2 id="creative-ideas">Creative Ideas<a class="headerlink" href="#creative-ideas" title="Permanent link">&para;</a></h2>
<div class="admonition tip">
<p class="admonition-title">Song Suggestions</p>
<p>Here are some simple songs you could try (with note numbers):</p>
<ul>
<li><strong>Happy Birthday</strong>: 1-1-2-1-4-3, 1-1-2-1-5-4...</li>
<li><strong>Twinkle Twinkle</strong>: 1-1-5-5-6-6-5...</li>
<li><strong>Jingle Bells</strong>: 3-3-3, 3-3-3, 3-5-1-2-3...</li>
<li><strong>Your own composition!</strong></li>
</ul>
</div>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ol>
<li>MATLAB Signal Processing Toolbox Documentation</li>
<li>DTMF specification: ITU-T Recommendation Q.23</li>
<li>Oppenheim &amp; Schafer, <em>Discrete-Time Signal Processing</em> (textbook)</li>
</ol>
<hr />
<p><em>Lab created February 2016 | Updated for modern context February 2026</em></p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="February 15, 2026 12:20:22 UTC"><span class="timeago" datetime="2026-02-15T12:20:22+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="February 15, 2026 12:20:22 UTC">2026-02-15</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/aaron-scher" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.expand", "navigation.indexes", "navigation.sections", "search.suggest", "search.highlight", "content.code.copy", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../js/timeago.min.js"></script>
      
        <script src="../../js/timeago_mkdocs_material.js"></script>
      
        <script src="../../javascripts/home-link.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>